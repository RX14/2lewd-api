<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>v0</title>
</head>
<body>
  <script src="https://api.apiary.io/seeds/embed.js"></script>
  <script>
    var embed = new Apiary.Embed({
      apiBlueprint: "FORMAT: 1A\nHOST: https://lewd.sx/api/v0/\n\n# lewd.sx\n\nVersion 0 of the API for lewd.sx forums. This is an initial alpha version and subject to breaking changes.\n\n# Group Users\n\n## User [/users/{id}]\n\nA User registered on lewd.sx.\n\n- Parameters\n    - id: `d19ba292-6661-41d1-a9d0-daa9e9191325` (string) - The ID of the user\n\n- Attributes\n    - id: `d19ba292-6661-41d1-a9d0-daa9e9191325` (string, required) - The ID assigned to the user\n    - username: RX14 (required) - Human-readable username displayed on the site\n    - signup_time: `2017-01-28T22:44:31Z` (required) - Timestamp when the user registered for the forums\n    - avatar_url: https://static.lewd.sx/avatars/RX14.png (required) - URL of the user\'s avatar image\n    - email: chris@rx14.co.uk - Email of the user\n        Only visible on the currently logged in user\'s profile, or to admins.\n    - usertitle: Fgt - The user\'s usertitle, shown underneath their username\n    - signature - The user\'s signature, in BBCode\n\n### Retrieve a User [GET]\n\nRetrieves information on a single user. This data is used, for example, to show the user\'s profile.\n\n- Response 200 (application/json)\n    - Attributes (User)\n\n### Modify a User [PATCH]\n\nModifies a user\'s profile. It is only possible to modify the currently logged-in user\'s profile, unless the currently logged-in user is an admin.\n\n- Request (application/json)\n    - Attributes\n        - username: RX14 - New username for user\n        - email: chris@rx14.co.uk - New email for user\n        - password: pa55w0rd - New password for user\n        - avatar_id: `66014993-29b9-4f1a-89d8-ac7c4ac5acf1` - ID of new avatar for user\n        - usertitle: Fgt - New usertitle for user\n        - signature - New signature for user, in BBCode\n\n- Response 200 (application/json)\n    - Attributes (User)\n\n## Users collection [/users]\n\n### List All Users [GET]\n\nLists all users registered on the forums.\n\n- Response 200 (application/json)\n    - Attributes (array[User])\n\n### Register a new User [POST]\n\nRegisters a new user to the lewd.sx forums.\n\n- Request (application/json)\n    - Attributes\n        - username: RX14 (required) - User\'s username\n        - email: chris@rx14.co.uk (required) - Email for user\n        - password: pa55w0rd (required) - Password for user\n        - avatar_id: `66014993-29b9-4f1a-89d8-ac7c4ac5acf1` - ID of avatar for new user\n        - usertitle: Fgt - Usertitle for user\n        - signature - New signature for user, in BBCode\n\n- Response 201 (application/json)\n    - Headers\n        Location: /users/d19ba292-6661-41d1-a9d0-daa9e9191325\n\n# Group Avatars\n\nAvatars on lewd.sx have a fixed size, and uploaded avatars are resized to the\ncorrect size. The upload endpoint allows crop dimensions to be added to images\nto be cropped on the server.\n\n## Avatar [/avatars/{id}]\n\n- Parameters\n    - id: `a0cd1071-d2c0-4bd0-8d7e-bf24ba00aa17` - The ID of the avatar\n\n### Retrieve an Avatar [GET]\n\nRetrieves an avatar image file given an ID. Response is the raw binary image file.\n\n- Response 200 (image/*)\n\n## Avatars collection [/avatars]\n\n### Upload a new Avatar [POST]\n\nUpload requests are sent using `multipart/form-data` to minimise overhead.\nOptional crop data is sent in JSON in the `crop-data` form field.\n\n- Request (multipart/form-data, boundary=AaB03x)\n    - Body\n        --AaB03x\n        Content-Disposition: form-data; name=\"image\"\n        Content-Type: image/png\n\n        ... image data...\n        --AaB03x\n        Content-Disposition: form-data; name=\"crop-data\"\n\n        {\"left\": 162, \"top\": 52, \"width\": \"500\", \"height\": \"500\"}\n        --AaB03x--\n\n- Response 201 (application/json)\n    - Headers\n        Location: /avatars/a0cd1071-d2c0-4bd0-8d7e-bf24ba00aa17\n"
    });

    if (false) {
        var changed = null
        var xhrChanged = new XMLHttpRequest();
        var xhrData = new XMLHttpRequest();
        setInterval(function() {
            xhrChanged.open('GET', window.location.href + "/changed", true);
            xhrChanged.send();

            xhrChanged.onreadystatechange = function() {
                if (xhrChanged.readyState == 4 && xhrChanged.status == 200) {
                    if (!changed) {
                        changed = xhrChanged.responseText
                    }
                    if (changed != xhrChanged.responseText) {
                        changed = xhrChanged.responseText
                        xhrData.open('GET', window.location.href + "/source", true);
                        xhrData.send();

                        xhrData.onreadystatechange = function() {
                            if (xhrData.readyState == 4 && xhrData.status == 200) {
                                embed.iframeElement.contentWindow.postMessage({"origin": embed.ORIGIN, "eventType": "anonymousPreview", "data": {"code": xhrData.responseText}}, '*');
                            }
                        }
                    }
                }
            }
        }, 1000);
    }
  </script>
</body>
</html>
